!function(){var moduleFactory=function($){var module=this;var exports=function(){var resizers=$(),resizeCount=0,win=$(window),windowWidth=0,windowHeight=0,timer;$(function(){windowWidth=win.width();windowHeight=win.height()});$.event.special.resize={setup:function(handleObj){if(this!==window){resizers.push(this);$.unique(resizers)}return this!==window},teardown:function(){resizers=resizers.not(this);return this!==window},add:function(handleObj){var origHandler=handleObj.handler;handleObj.origHandler=origHandler;handleObj.handler=function(ev,data){var isWindow=this===window;if(isWindow&&ev.originalEvent){var width=win.width(),height=win.height();if(width!=windowWidth||height!=windowHeight){windowWidth=width;windowHeight=height;clearTimeout(timer);timer=setTimeout(function(){win.trigger("resize")},1)}return}if(resizeCount===0){resizeCount++;var where=data===false?ev.target:this;$.event.handle.call(where,ev);if(ev.isPropagationStopped()){resizeCount--;return}var index=resizers.index(this),length=resizers.length,child,sub;while(++index<length&&(child=resizers[index])&&(isWindow||$.contains(where,child))){$.event.handle.call(child,ev);if(ev.isPropagationStopped()){while(++index<length&&(sub=resizers[index])){if(!$.contains(child,sub)){index--;break}}}}ev.stopImmediatePropagation();resizeCount--}else{handleObj.origHandler.call(this,ev,data)}}}};$([document,window]).bind("resize",function(){})};exports();module.resolveWith(exports)};dispatch("mvc/event.resize").containing(moduleFactory).to("Foundry/2.1 Modules")}();