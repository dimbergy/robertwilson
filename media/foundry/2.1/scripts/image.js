!function(){var moduleFactory=function($){var module=this;var exports=function(){$.fn.image=function(method){var method=$.Image[method];return method&&method.apply(this[0],$.makeArray(arguments).slice(1))};$.Image={get:function(url){var existingImage=this.nodeName==="IMG";var image=$(existingImage?this:new Image),imageLoader=$.Deferred();image.load(function(){var w,h,r,o;if(!existingImage){image.appendTo("body")}image.css({position:"absolute",left:"-99999px"}).data({width:w=image.width(),height:h=image.height(),aspectRatio:r=w/h,orientation:o=r===1?"square":r<1?"tall":"wide"}).addClass("orientation-"+o).removeAttr("style");if(!existingImage){image.detach()}imageLoader.resolve(image)}).error(function(){imageLoader.reject()}).attr("src",url);return imageLoader},resizeWithin:function(sourceWidth,sourceHeight,maxWidth,maxHeight){var targetWidth=sourceWidth,targetHeight=sourceHeight;var ratio=maxWidth/sourceWidth;targetWidth=sourceWidth*ratio;targetHeight=sourceHeight*ratio;if(targetHeight>maxHeight){var ratio=maxHeight/sourceHeight;targetWidth=sourceWidth*ratio;targetHeight=sourceHeight*ratio}return{width:targetWidth,height:targetHeight}},resizeToFill:function(sourceWidth,sourceHeight,maxWidth,maxHeight){var targetWidth=sourceWidth,targetHeight=sourceHeight;var ratio=maxWidth/sourceWidth;targetWidth=sourceWidth*ratio;targetHeight=sourceHeight*ratio;if(targetHeight<maxHeight){var ratio=maxHeight/sourceHeight;targetWidth=sourceWidth*ratio;targetHeight=sourceHeight*ratio}return{top:(maxHeight-targetHeight)/2,left:(maxWidth-targetWidth)/2,width:targetWidth,height:targetHeight}}}};exports();module.resolveWith(exports)};dispatch("image").containing(moduleFactory).to("Foundry/2.1 Modules")}();